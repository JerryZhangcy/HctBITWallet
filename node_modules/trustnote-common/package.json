{
  "_args": [
    [
      "trustnote-common@git+https://github.com/trustnote/trustnote-common.git",
      "/home/zhangchongyang/code/hdWallet/trustnote-wallet"
    ]
  ],
  "_from": "git+https://github.com/trustnote/trustnote-common.git",
  "_id": "trustnote-common@0.1.0",
  "_inCache": true,
  "_installable": true,
  "_location": "/trustnote-common",
  "_phantomChildren": {},
  "_requested": {
    "hosted": {
      "directUrl": "https://raw.githubusercontent.com/trustnote/trustnote-common/master/package.json",
      "gitUrl": "git://github.com/trustnote/trustnote-common.git",
      "httpsUrl": "git+https://github.com/trustnote/trustnote-common.git",
      "shortcut": "github:trustnote/trustnote-common",
      "ssh": "git@github.com:trustnote/trustnote-common.git",
      "sshUrl": "git+ssh://git@github.com/trustnote/trustnote-common.git",
      "type": "github"
    },
    "name": "trustnote-common",
    "raw": "trustnote-common@git+https://github.com/trustnote/trustnote-common.git",
    "rawSpec": "git+https://github.com/trustnote/trustnote-common.git",
    "scope": null,
    "spec": "git+https://github.com/trustnote/trustnote-common.git",
    "type": "hosted"
  },
  "_requiredBy": [
    "/"
  ],
  "_resolved": "git+https://github.com/trustnote/trustnote-common.git#7adecec4ffa56b3ab0d44e0387460ec0b6ab0a8f",
  "_shasum": "cfd1d8d847de981885a83f24160b40c34a8403b4",
  "_shrinkwrap": null,
  "_spec": "trustnote-common@git+https://github.com/trustnote/trustnote-common.git",
  "_where": "/home/zhangchongyang/code/hdWallet/trustnote-wallet",
  "author": {
    "name": "Trustnote"
  },
  "browser": {
    "request": "browser-request",
    "secp256k1": "secp256k1/js"
  },
  "bugs": {
    "url": "https://gitee.com/trustnote/trustnote-common/issues"
  },
  "dependencies": {
    "async": "^1.5.2",
    "lodash": "^4.6.1",
    "longjohn": "^0.2.11",
    "mysql": "^2.10.2",
    "secp256k1": "^3.1.0",
    "socks": "1.1.10",
    "sqlite3": "^3.1.4",
    "thirty-two": "^1.0.1",
    "ws": "^1.0.1"
  },
  "description": "Trustnote Common",
  "devDependencies": {},
  "gitHead": "7adecec4ffa56b3ab0d44e0387460ec0b6ab0a8f",
  "homepage": "https://gitee.com/trustnote/trustnote-common",
  "keywords": [
    "trustnote",
    "multisignature"
  ],
  "license": "MIT",
  "name": "trustnote-common",
  "optionalDependencies": {},
  "readme": "# Trustnote common\r\n\r\nThis is a library used in [](https://Trustnote.org) clients.  Never used directly.  Some of the clients that require the library:\r\n\r\n* [Trustnote Wallet](../../../trustnote-wallet) - GUI wallet for Mac, Windows, Linux, iOS, and Android.\r\n* [Trustnote Headless](../../../headless) - headless wallet, primarily for server side use.\r\n\r\n## Developer guides\r\n\r\nMany of the features are not documented yet, see other [Trustnote repositories](https://github.com/Trustnote) as samples, for APIs see the `exports` of node.js modules.\r\n\r\n## Configuring\r\n\r\nThe default settings are in the library's [conf.js](conf.js), they can be overridden in your project root's conf.js (see the clients above as examples), then in conf.json in the app data folder.  The app data folder is:\r\n\r\n* macOS: `~/Library/Application Support/<appname>`\r\n* Linux: `~/.config/<appname>`\r\n* Windows: `%LOCALAPPDATA%\\<appname>`\r\n\r\n`<appname>` is `name` in your `package.json`.\r\n\r\n### Settings\r\n\r\nThis is the list of some of the settings that the library understands (your app can add more settings that only your app understands):\r\n\r\n#### conf.port\r\n\r\nThe port to listen on.  If you don't want to accept incoming connections at all, set port to `null`, which is the default.  If you do want to listen, you will usually have a proxy, such as nginx, accept websocket connections on standard port 443 and forward them to your Trustnote daemon that listens on port 6655 on the local interface.\r\n\r\n#### conf.storage\r\n\r\nStorage backend -- mysql or sqlite, the default is sqlite.  If sqlite, the database files are stored in the app data folder.  If mysql, you need to also initialize the database with [trustnote.sql](trustnote.sql) and set connection params, e.g. in conf.json in the app data folder:\r\n\r\n```json\r\n{\r\n\t\"port\": 6655,\r\n\t\"storage\": \"mysql\",\r\n\t\"database\": {\r\n\t\t\"max_connections\": 30,\r\n\t\t\"host\"     : \"localhost\",\r\n\t\t\"user\"     : \"Trustnote\",\r\n\t\t\"password\" : \"yourmysqlpassword\",\r\n\t\t\"name\"     : \"Trustnote\"\r\n\t}\r\n}\r\n```\r\n#### conf.bLight\r\n\r\nWork as light client (`true`) or full node (`false`).  The default is full client.\r\n\r\n#### conf.bServeAsHub\r\n\r\nWhether to serve as hub on the Trustnote network (store and forward e2e-encrypted messages for devices that connect to your hub).  The default is `false`.\r\n\r\n#### conf.myUrl\r\n\r\nIf your node accepts incoming connections, this is its URL.  The node will share this URL with all its outgoing peers so that they can reconnect in any direction in the future.  By default the node doesn't share its URL even if it accepts connections.\r\n\r\n#### conf.bWantNewPeers\r\n\r\nWhether your node wants to learn about new peers from its current peers (`true`, the default) or not (`false`).  Set it to `false` to run your node in stealth mode so that only trusted peers can see its IP address (e.g. if you have online wallets on your server and don't want potential attackers to learn its IP).\r\n\r\n#### conf.socksHost, conf.socksPort, and conf.socksLocalDNS\r\n\r\nSettings for connecting through optional SOCKS5 proxy.  Use them to connect through TOR and hide your IP address from peers even when making outgoing connections.  This is useful and highly recommended when you are running an online wallet on your server and want to make it harder for potential attackers to learn the IP address of the target to attack.  Set `socksLocalDNS` to `false` to route DNS queries through TOR as well.\r\n\r\n#### MySQL conf for faster syncing\r\n\r\nTo lower disk load and increase sync speed, you can optionally disable flushing to disk every transaction, instead doing it once a second. This can be done by setting `innodb_flush_log_at_trx_commit=0` in your MySQL server config file (my.ini)\r\n\r\n## Accepting incoming connections\r\n\r\nTrustnote network works over secure WebSocket protocol wss://.  To accept incoming connections, you'll need a valid TLS certificate (you can get a free one from [letsencrypt.org](https://letsencrypt.org)) and a domain name (you can get a free domain from [Freenom](http://www.freenom.com/)).  Then you accept connections on standard port 443 and proxy them to your locally running Trustnote daemon.\r\n\r\nThis is an example configuration for nginx to accept websocket connections at wss://trustnote.org/tn and forward them to locally running daemon that listens on port 6655:\r\n\r\n```nginx\r\nserver {\r\n\tlisten 80 default_server;\r\n\tlisten [::]:80 default_server;\r\n\tlisten 443 ssl;\r\n\tlisten [::]:443 ssl;\r\n\tssl_certificate \"/etc/letsencrypt/live/trustnote.org/fullchain.pem\";\r\n\tssl_certificate_key \"/etc/letsencrypt/live/trustnote.one/privkey.pem\";\r\n\r\n\tif ($host != \"trustnote.org\") {\r\n\t\trewrite ^(.*)$ https://trustnote.org$1 permanent;\r\n\t}\r\n\tif ($https != \"on\") {\r\n\t\trewrite ^(.*)$ https://trustnote.org$1 permanent;\r\n\t}\r\n\r\n\tlocation = /tn {\r\n\t\tproxy_pass http://localhost:6655;\r\n\t\tproxy_http_version 1.1;\r\n\t\tproxy_set_header X-Real-IP $remote_addr;\r\n\t\tproxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\r\n\t\tproxy_set_header Upgrade $http_upgrade;\r\n\t\tproxy_set_header Connection \"upgrade\";\r\n\t}\r\n\r\n\troot /var/www/html;\r\n\tserver_name _;\r\n}\r\n```\r\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "https://gitee.com/trustnote/trustnote-common.git"
  },
  "version": "0.1.0"
}
